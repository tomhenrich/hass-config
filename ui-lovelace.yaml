button_card_templates:
  opening:
    style: 'ha-card { height: 100%; }'
    show_state: true
    size: 40%
    styles:
      card:
        - background-color: card-background-color
        - border: 2px solid transparent
      name:
        - font-size: small
      state:
        - font-size: x-small
      icon:
        - margin-bottom: 10px
    state:
      - value: 'on'
        id: opening_open
        styles:
          card:
            - border-color: var(--accent-color)
          name:
            - color: var(--light-primary-color)
          state:
            - color: var(--light-primary-color)
          icon:
            - color: var(--accent-color)
      - value: 'off'
        id: opening_closed
        styles:
          name:
            - color: var(--primary-color)
          state:
            - color: var(--primary-color)
          icon:
            - color: var(--primary-color)
  sensor:
    style: 'ha-card { height: 100%; }'
    layout: icon_name_state2nd
    styles:
      grid:
        - grid-template-columns: 30% 1fr
      card:
        - border-left: 4px solid transparent
      name:
        - font-size: medium
        - font-weight: 'var(--mcg-title-font-weight, 500)'
        - text-align: left
        - width: 100%
        - color: var(--secondary-text-color)
      state:
        - font-size: small
        - text-align: left
        - width: 100%
      label:
        - font-size: small
        - text-align: left
        - width: 100%
  sensornoicon:
    template: sensor
    show_icon: false
    styles:
      grid:
        - grid-template-columns: 16px 1fr
  sensoralert:
    template: sensor
    state:
      - value: 'on'
        id: sensoralert_active
        styles:
          card:
            - background-color: var(--label-badge-red)
          icon:
            - color: white
  lights_main:
    style: 'ha-card { height: 100%; }'
    show_state: false
    size: 40%
    tap_action:
      action: toggle
    hold_action:
      action: more-info
    state:
      - value: 'on'
        id: light_on
        styles:
          card:
            - background-color: var(--accent-color)
          icon:
            - color: var(--primary-text-color)
      - value: 'off'
        id: light_off
        styles:
          card:
            - background-color: var(--label-badge-background-color)
          icon:
            - opacity: 0.5
    styles:
      name:
        - font-size: small
      icon:
        - margin-bottom: 10px
  lights:
    template: lights_main
    state:
      - value: 'on'
        id: light_on
        icon: 'mdi:dots-horizontal-circle'
      - value: 'off'
        id: light_off
        icon: 'mdi:dots-horizontal-circle-outline'
  lights_onoff:
    template: lights_main
    hold_action:
      action: none
    state:
      - value: 'on'
        id: light_on
        icon: 'mdi:circle'
      - value: 'off'
        id: light_off
        icon: 'mdi:circle-outline'
views:
  - icon: 'hass:home'
    panel: true
    theme: Campfire - Dark
    badges: []
    cards:
      - type: 'custom:layout-card'
        layout_type: 'custom:grid-layout'
        layout:
          grid-template-columns: 40% 60%
          grid-template-rows: auto
          grid-gap: 0
          grid-template-areas: |
            "header header"
            "side main"
        cards:
          - type: 'custom:layout-card'
            layout_type: 'custom:grid-layout'
            view_layout:
              grid-area: header
            layout:
              grid-template-columns: 60% 40%
              grid-gap: 0
            cards:
              - type: markdown
                content: '### {{ now().strftime("%A, %-m/%-d | %-I:%M %p") }}'
                view_layout:
                  grid-column: span 2
              - type: weather-forecast
                entity: weather.openweathermap
                show_forecast: false
                name: Currently
              - type: 'custom:mini-graph-card'
                entities:
                  - entity: sensor.ecobee3_temperature
                name: Inside
                hours_to_show: 48
                font_size: 68
                height: 50
                icon: 'mdi:home-thermometer-outline'
                style: '.state__value {font-weight: 400;}'
          - type: 'custom:layout-card'
            layout_type: 'custom:grid-layout'
            view_layout:
              grid-area: side
            layout:
              grid-template-columns: 50% 50%
              grid-gap: 0
            cards:
              - type: 'custom:button-card'
                view_layout:
                  grid-column: span 2
                template: sensor
                show_state: false
                show_label: true
                entity: sensor.airquality
                tap_action: none
                name: Air Quality
                label: |
                  [[[
                    return entity.state;
                  ]]]
                state:
                  - value: Good
                    styles:
                      card:
                        - border-left-color: var(--label-badge-green)
                      icon:
                        - color: var(--label-badge-green)
                    icon: 'mdi:emoticon-happy-outline'
                  - value: Moderate
                    styles:
                      card:
                        - border-left-color: '#fdd64b'
                      icon:
                        - color: '#fdd64b'
                    icon: 'mdi:emoticon-neutral-outline'
                  - value: Unhealthy
                    styles:
                      card:
                        - border-left-color: '#eb0c27'
                      icon:
                        - color: '#eb0c27'
                    icon: 'mdi:emoticon-frown-outline'
                  - value: Very Unhealthy
                    styles:
                      card:
                        - border-left-color: '#a070b6'
                      name:
                        - color: '#fff'
                      label:
                        - color: '#fff'
                    icon: 'mdi:emoticon-frown'
                  - value: Hazardous
                    styles:
                      card:
                        - background: var(--label-badge-red)
                      name:
                        - color: '#fff'
                      label:
                        - color: '#fff'
                    icon: 'mdi:emoticon-dead'
              - type: 'custom:button-card'
                view_layout:
                  grid-column: span 2
                entity: binary_sensor.laundry_washer
                template: sensor
                show_state: false
                show_label: true
                name: Washing Machine
                tap_action:
                  action: none
                state:
                  - value: 'on'
                    label: Running
                    styles:
                      card:
                        - border-left-color: var(--accent-color)
                      icon:
                        - color: var(--accent-color)
                  - value: 'off'
                    label: Inactive
                    styles:
                      icon:
                        - opacity: 0.5
              - type: 'custom:button-card'
                view_layout:
                  grid-column: span 2
                entity: binary_sensor.laundry_dryer
                template: sensor
                show_state: false
                show_label: true
                name: Dryer
                tap_action: none
                state:
                  - value: 'on'
                    label: Running
                    styles:
                      card:
                        - border-left-color: var(--accent-color)
                      icon:
                        - color: var(--accent-color)
                  - value: 'off'
                    label: Inactive
                    styles:
                      icon:
                        - opacity: 0.5
              - type: 'custom:button-card'
                view_layout:
                  grid-column: span 2
                entity: binary_sensor.chest_freezer
                name: Chest Freezer
                template:
                  - sensoralert
                tap_action: none
                show_state: true
                state:
                  - value: 'on'
                    icon: 'mdi:alert-circle'
                    styles:
                      card:
                        - background-color: var(--accent-color)
                      name:
                        - color: white
                      state:
                        - color: white
                      icon:
                        - color: white
                  - value: 'off'
                    styles:
                      icon:
                        - opacity: 0.5
              - type: 'custom:button-card'
                view_layout:
                  grid-column: span 2
                entity: sensor.trashday
                template: sensor
                name: '[[[ return entity.attributes.type ]]]'
                show_state: true
                tap_action: none
                styles:
                  icon:
                    - opacity: 0.5
                state:
                  - value: Today
                    styles:
                      icon:
                        - filter: opacity(1.0)
                        - color: var(--label-badge-red)
                      card:
                        - border-left-color: var(--label-badge-red)
                  - value: Tomorrow
                    styles:
                      icon:
                        - filter: opacity(1.0)
                        - color: var(--accent-color)
                      card:
                        - border-left-color: var(--accent-color)
              - type: 'custom:button-card'
                entity: sensor.monthly_data_cap
                name: Data Cap
                template:
                  - sensornoicon
                show_state: true
                show_label: false
                show_icon: false
                tap_action: more-info
                state:
                  - operator: template
                    value: |
                      [[[
                        return (entity.state >= 75) && (entity.state < 80)
                      ]]]
                    styles:
                      card:
                        - background-color: var(--label-badge-yellow)
                  - operator: template
                    value: |
                      [[[
                        return (entity.state >= 90)
                      ]]]
                    styles:
                      card:
                        - background-color: var(--label-badge-red)
              - type: 'custom:button-card'
                entity: sensor.monthly_data_usage
                name: Data Used
                template:
                  - sensoralert
                  - sensornoicon
                show_state: true
                show_label: true
                show_icon: false
                tap_action: more-info
              - type: markdown
                content: ' '
                style: >-
                  ha-markdown {padding-top: 4px !important; padding-bottom: 4px
                  !important;}
                view_layout:
                  grid-column: span 2
              - type: 'custom:mini-graph-card'
                name: Small Freezer Power
                icon: 'hass:chart-line'
                view_layout:
                  grid-column: span 2
                entities:
                  - entity: sensor.monoprice_energy_outlet_energy
                    line_width: 5
                    color: '#99cc33'
                    name: kWh
                    aggregate_func: max
                  - entity: sensor.monoprice_energy_outlet_power
                    line_width: 1
                    name: Watts
                    y_axis: secondary
                graph: line
                height: 50
                hours_to_show: 48
                font_size: 50
                show:
                  legend: true
                  points: false
                  labels: true
                  labels_secondary: true
          - type: 'custom:layout-card'
            layout_type: 'custom:grid-layout'
            view_layout:
              grid-area: main
            layout:
              grid-template-columns: 'repeat(6, 16.6666%)'
              grid-gap: 0
            cards:
              - type: 'custom:button-card'
                view_layout:
                  grid-column: span 6
                entity: climate.ecobee3
                template: sensor
                show_state: true
                name: Furnace
                state:
                  - value: 'off'
                    icon: 'mdi:fire-off'
                    styles:
                      card:
                        - background-color: var(--label-badge-background-color)
                  - value: heat
                    styles:
                      card:
                        - background-color: var(--label-badge-red)
                    icon: 'mdi:fire'
              - type: 'custom:button-card'
                entity: cover.garage_door
                name: Garage
                view_layout:
                  grid-column: span 6
                template:
                  - sensoralert
                show_state: true
                hold_action:
                  action: call-service
                  service: cover.toggle
                  service_data:
                    entity_id: cover.garage_door
                state:
                  - value: open
                    icon: 'mdi:garage-open'
                    styles:
                      card:
                        - background-color: var(--label-badge-red)
                      name:
                        - color: white
                      state:
                        - color: white
                  - value: closed
                    icon: 'mdi:garage'
                    styles:
                      card:
                        - background-color: var(--label-badge-background-color)
              - type: markdown
                content: '#### Lights'
                style: >-
                  ha-markdown {padding-top: 4px !important; padding-bottom: 4px
                  !important;}
                view_layout:
                  grid-column: span 6
              - type: 'custom:button-card'
                entity: switch.bar_light
                name: Bar
                template: lights_onoff
                view_layout:
                  grid-column: span 2
              - type: 'custom:button-card'
                entity: group.den_lights
                template: lights
                view_layout:
                  grid-column: span 2
              - type: 'custom:button-card'
                entity: light.living_room_light
                name: Living Room
                template: lights
                view_layout:
                  grid-column: span 2
              - type: 'custom:button-card'
                entity: light.dining_room_light
                name: Dining Room
                template: lights
                view_layout:
                  grid-column: span 2
              - type: 'custom:button-card'
                entity: switch.entryway_light
                name: Entryway
                template: lights_onoff
                view_layout:
                  grid-column: span 2
              - type: 'custom:button-card'
                entity: switch.porch_light
                name: Porch
                template: lights_onoff
                view_layout:
                  grid-column: span 2
              - type: markdown
                content: ' '
                style: >-
                  ha-markdown {padding-top: 4px !important; padding-bottom: 4px
                  !important;}
                view_layout:
                  grid-column: span 6
              - type: 'custom:button-card'
                entity: binary_sensor.front_door
                name: Front
                view_layout:
                  grid-column: span 1
                tap_action: none
                template: opening
                state:
                  - value: 'on'
                    id: opening_open
                    icon: 'mdi:door'
                  - value: 'off'
                    id: opening_closed
                    icon: 'mdi:door-closed'
              - type: 'custom:button-card'
                entity: binary_sensor.back_door_ias_zone
                name: Back
                view_layout:
                  grid-column: span 1
                tap_action: none
                template: opening
                state:
                  - value: 'on'
                    id: opening_open
                    icon: 'mdi:door'
                  - value: 'off'
                    id: opening_closed
                    icon: 'mdi:door-closed'
              - type: 'custom:button-card'
                entity: binary_sensor.aqara2
                name: Aqara
                view_layout:
                  grid-column: span 1
                tap_action: none
                template: opening
                state:
                  - value: 'on'
                    id: opening_open
                    icon: 'mdi:door'
                  - value: 'off'
                    id: opening_closed
                    icon: 'mdi:door-closed'
  - icon: 'hass:lightbulb'
    panel: true
    path: lights
    theme: Campfire - Dark
    badges: []
    cards:
      - type: 'custom:layout-card'
        layout_type: 'custom:grid-layout'
        layout:
          grid-template-columns: 'repeat(8, 1fr)'
          grid-template-rows: auto
          grid-gap: 0 0
        cards:
          - type: markdown
            content: '### Lights'
            view_layout:
              grid-column: span 8
              style: >-
                ha-markdown {padding-top: 4px !important; padding-bottom: 4px
                !important;}
          - type: 'custom:button-card'
            entity: switch.bar_light
            name: Bar
            template: lights_onoff
            view_layout:
              grid-column: span 2
          - type: 'custom:button-card'
            entity: group.den_lights
            template: lights
            view_layout:
              grid-column: span 2
          - type: 'custom:button-card'
            entity: light.den_light_1
            name: Den 1
            template: lights
          - type: 'custom:button-card'
            entity: light.den_light_2
            name: Den 2
            template: lights
          - type: 'custom:button-card'
            entity: light.living_room_light
            name: Living Room
            template: lights
            view_layout:
              grid-column: span 2
          - type: 'custom:button-card'
            entity: light.dining_room_light
            name: Dining Room
            template: lights
            view_layout:
              grid-column: span 2
          - type: 'custom:button-card'
            entity: switch.entryway_light
            name: Entryway
            template: lights_onoff
            view_layout:
              grid-column: span 2
          - type: 'custom:button-card'
            entity: switch.porch_light
            name: Porch
            template: lights_onoff
            view_layout:
              grid-column: span 2
          - type: markdown
            content: '### Timers'
            view_layout:
              grid-column: span 8
              style: >-
                ha-markdown {padding-top: 4px !important; padding-bottom: 4px
                !important;}
          - type: 'custom:button-card'
            entity: input_boolean.timer_porch
            name: Porch Light
            template: lights_onoff
            view_layout:
              grid-column: span 2
          - type: 'custom:button-card'
            entity: input_boolean.night_light_living_room_switch
            name: Living Room
            template: lights_onoff
            view_layout:
              grid-column: span 2
  - path: netmonitor
    icon: 'hass:database'
    panel: true
    theme: Campfire - Dark
    badges: []
    cards:
      - type: 'custom:layout-card'
        layout_type: 'custom:grid-layout'
        layout:
          grid-template-columns: 1fr
          grid-template-rows: auto
          grid-gap: 0 0
        cards:
          - type: markdown
            content: '### Network'
            style: >-
              ha-markdown {padding-top: 4px !important; padding-bottom: 4px
              !important;}
          - type: 'custom:layout-card'
            layout_type: 'custom:grid-layout'
            layout:
              grid-template-columns: 40% 60%
            cards:
              - type: vertical-stack
                view_layout:
                  - grid-column: span 2
                cards:
                  - type: 'custom:mini-graph-card'
                    entities:
                      - entity: sensor.monthly_data_usage
                        name: Data Used This Month
                    hours_to_show: 336
                    group_by: hour
                    font_size: 50
                    height: 50
                    icon: 'mdi:compare-vertical'
                    style: '.state__value {font-weight: 400;}'
                    show:
                      legend: false
                      labels: false
                    lower_bound: 0
                  - type: 'custom:mini-graph-card'
                    entities:
                      - entity: sensor.monthly_data_cap
                        name: '% of Monthly Cap'
                    hours_to_show: 336
                    group_by: hour
                    font_size: 50
                    height: 50
                    style: '.state__value {font-weight: 400;}'
                    show:
                      legend: false
                      labels: false
                    lower_bound: 0
                    upper_bound: 100
              - type: vertical-stack
                view_layout:
                  - grid-column: span 2
                cards:
                  - type: 'custom:button-card'
                    entity: switch.adguard_protection
                    name: AdBlock
                    template: sensor
                    show_state: true
                    size: 25%
                    state:
                      - value: 'on'
                        icon: 'mdi:shield-check'
                        styles:
                          icon:
                            - color: var(--label-badge-green)
                      - value: 'off'
                        icon: 'mdi:shield-off-outline'
                        styles:
                          icon:
                            - color: var(--label-badge-red)
                  - type: 'custom:mini-graph-card'
                    entities:
                      - entity: sensor.adguard_dns_queries
                        name: DNS Queries
                      - entity: sensor.adguard_dns_queries_blocked
                        name: Blocked Queries
                        color: var(--label-badge-red)
                    hours_to_show: 168
                    group_by: date
                    font_size: 50
                    height: 50
                    bar_spacing: 2
                    icon: 'mdi:card-search'
                    style: '.state__value {font-weight: 400;}'
                    show:
                      state: false
                      graph: bar
                      legend: true
                  - type: horizontal-stack
                    view_layout:
                      - grid-column: span 2
                    cards:
                      - type: 'custom:button-card'
                        entity: sensor.adguard_dns_queries_blocked_ratio
                        name: Avg Block Ratio
                        template: sensornoicon
                        show_state: true
                        tap_action: none
                      - type: 'custom:button-card'
                        entity: sensor.adguard_average_processing_speed
                        name: Avg Response
                        template: sensornoicon
                        show_state: true
                        tap_action: none
          - type: markdown
            content: '### NAS'
            style: >-
              ha-markdown {padding-top: 4px !important; padding-bottom: 4px
              !important;}
          - type: markdown
            content: Data Pending
            style: >-
              ha-markdown {padding-top: 4px !important; padding-bottom: 4px
              !important;}
