views:
  - theme: Campfire - Dark
    title: Home
    path: home
    visible:
      - user: 1adcbfbd5637444bacb8239bc794bb4a
      - user: 25121d6fff8247f5b3c8b55198ff4705
      - user: 03dd7450aa7f4d0e8df8ed730df485b1
    layout:
      grid-template-columns: 100%
      grid-template-rows: auto
      grid-gap: 0
      mediaquery:
        '(min-width: 800px)':
          grid-template-columns: 30% 70%
          grid-template-rows: auto
          grid-gap: 10px
    type: panel
    icon: mdi:home-circle-outline
    badges: []
    cards:
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 35% auto
          grid-template-rows: auto
          grid-template-areas: |
            "sidebar main"
          grid-gap: 0
          mediaquery:
            '(max-width: 600px)':
              grid-template-columns: 100%
              grid-template-areas: |
                "sidebar"
                "main"
        cards:
          - type: vertical-stack
            cards:
              - type: custom:layout-card
                layout_type: custom:grid-layout
                layout:
                  grid-template-columns: min-content auto
                  grid-template-rows: auto
                cards:
                  - type: custom:mushroom-title-card
                    title: >-
                      {{ now().strftime("%-I:%M") + now().strftime("%p").lower()
                      }}
                  - type: custom:mushroom-template-card
                    entity: sensor.date
                    primary: '{{ now().strftime("%A") }}'
                    secondary: '{{ now().strftime("%B %-d") }}'
                    tap_action:
                      action: none
                    fill_container: true
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: transparent;
                        }
                view_layout:
                  grid-column: span 2
              - type: custom:layout-card
                layout_type: custom:grid-layout
                layout:
                  grid-template-columns: 50% 50%
                  grid-template-rows: auto
                cards:
                  - type: custom:mushroom-template-card
                    primary: Inside
                    secondary: >-
                      {{ states(config.entity)|int }}{{
                      state_attr(config.entity, "unit_of_measurement") }}
                    layout: horizontal
                    tap_action:
                      action: none
                    hold_action:
                      action: more-info
                    entity: sensor.ecobee3_temperature
                    icon: mdi:home-thermometer-outline
                    icon_color: >
                      {% if states("climate.ecobee3") == "heat" %}
                      var(--rgb-red)

                      {% endif %}
                    badge_icon: >-
                      {{ "mdi:fire" if states("binary_sensor.furnace_running")
                      == "on" }}
                    badge_color: var(--rgb-red)
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: transparent;
                        }
                  - type: custom:mushroom-template-card
                    entity: weather.ecobee3
                    icon: >
                      {% set temp = state_attr(config.entity, "temperature")|int
                      %}

                      {% if temp >= 90 or temp <= 32 %} mdi:thermometer-alert

                      {% else %} mdi:thermometer

                      {% endif %}
                    icon_color: >
                      {% set temp = state_attr(config.entity, "temperature")|int
                      %}

                      {% if temp >= 90 %} var(--rgb-red)

                      {% elif temp <= 32 %} var(--rgb-blue)

                      {% endif %}
                    primary: Outside
                    secondary: >-
                      {{ state_attr(config.entity, "temperature") }}{{
                      state_attr(config.entity, "temperature_unit") }}
                    tap_action:
                      action: navigate
                      navigation_path: weather
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: transparent;
                        }
              - type: conditional
                conditions:
                  - entity: input_boolean.barn_door_protocol
                    state: 'on'
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: entity
                      entity: input_boolean.barn_door_protocol
                      content_info: name
                      name: Barn Door Protocol active
                      icon_color: var(--rgb-red)
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
              - type: custom:mushroom-template-card
                entity: sensor.air_quality
                primary: Air Quality
                secondary: >
                  {% set ts =
                  state_attr("sensor.airvisual_data","ts")|as_datetime %} {{
                  states(config.entity) }} as of ~{{ relative_time(ts) }} ago
                icon: '{{ state_attr(config.entity,"icon") }}'
                icon_color: |
                  {% set aqi = states(config.entity) %}
                  {% if aqi == 'Good' %} var(--rgb-green)
                  {% elif aqi == 'Moderate' %} #EAB700
                  {% elif aqi == 'Unhealthy' %} #F4B4B9
                  {% else %} white
                  {% endif %}
                tap_action:
                  action: none
                badge_color: >
                  {% set aqi = states(config.entity) %} {% if aqi == "Hazardous"
                  %} #931621 {% elif aqi == "Very Unhealthy" %} #46237A {% endif
                  %}
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-background: transparent;
                    }
              - type: custom:mushroom-template-card
                entity: sensor.trash_pickup
                primary: |
                  {{ states(config.entity) }}
                secondary: >
                  {% set prox = state_attr(config.entity,'proximity') %} {%
                  if(prox == 0) %} Today {% elif(prox == 1) %} Tomorrow {% else
                  %} {{ state_attr(config.entity, 'date') }} {% endif %}
                icon: '{{ state_attr(config.entity,"icon") }}'
                icon_color: >
                  {% set prox = state_attr(config.entity,'proximity') %} {%
                  if(prox == 0) %} var(--rgb-blue) {% elif(prox == 1) %} white
                  {% endif %}
                tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-background: transparent;
                    }
            view_layout:
              grid-area: sidebar
          - type: vertical-stack
            cards:
              - type: custom:layout-card
                layout_type: custom:grid-layout
                layout:
                  grid-template-columns: min-content min-content min-content min-content min-content
                  mediaquery:
                    '(max-width: 600px)':
                      grid-template-columns: repeat(2,50%)
                cards:
                  - type: conditional
                    conditions:
                      - entity: binary_sensor.chest_freezer
                        state: 'on'
                    card:
                      type: custom:mushroom-template-card
                      primary: Big Freezer
                      secondary: Open
                      icon: '{{ state_attr(config.entity, "icon") }}'
                      icon_color: red
                      entity: binary_sensor.chest_freezer
                      tap_action:
                        action: none
                      multiline_secondary: false
                      style: |
                        ha-card {
                          background: transparent;
                        }
                  - type: conditional
                    conditions:
                      - entity: binary_sensor.chest_freezer_2
                        state: 'on'
                    card:
                      type: custom:mushroom-template-card
                      primary: Small Freezer
                      secondary: Open
                      icon: '{{ state_attr(config.entity, "icon") }}'
                      icon_color: red
                      entity: binary_sensor.chest_freezer_2
                      tap_action:
                        action: none
                      multiline_secondary: false
                      style: |
                        ha-card {
                          background: transparent;
                        }
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.date
                    icon_color: white
                    name: Lights
                    content_info: name
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/lights
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-group-outline
              - type: custom:layout-card
                layout_type: custom:grid-layout
                layout:
                  grid-template-columns: repeat(4,25%)
                  mediaquery:
                    '(max-width: 600px)':
                      grid-template-columns: repeat(2,50%)
                cards:
                  - type: custom:mushroom-light-card
                    entity: light.bar_light
                    name: Bar
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 14px
                        }
                  - type: custom:mushroom-light-card
                    entity: light.den_light_2
                    name: Den Corner
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 14px
                        }
                  - type: custom:mushroom-light-card
                    entity: light.kitchen_light
                    name: Kitchen
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 14px
                        }
                  - type: custom:mushroom-light-card
                    entity: light.porch_light
                    name: Porch
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 14px
                        }
                  - type: custom:mushroom-light-card
                    entity: light.entryway_light
                    name: Entryway
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 14px
                        }
                  - type: custom:mushroom-light-card
                    entity: light.dining_room_light
                    name: Dining
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 14px
                        }
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: zone.home
                    icon_color: white
                    name: Network
                    content_info: name
                    icon: mdi:lan-connect
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
              - type: custom:layout-card
                layout_type: custom:grid-layout
                layout:
                  grid-template-columns: min-content min-content min-content
                  mediaquery:
                    '(max-width: 600px)':
                      grid-template-columns: 100%
                cards:
                  - type: custom:mushroom-template-card
                    entity: binary_sensor.plex_online
                    primary: Plex
                    secondary: |-
                      {% if states(config.entity) == "on" %}
                        Online
                      {% elif states(config.entity) == "off" %}
                        Online
                      {% else %}
                        {{ states(config.entity) | title }}
                      {% endif %}
                    icon: mdi:plex
                    icon_color: >-
                      {% if states(config.entity) == "off" or
                      states(config.entity) == "unavailable" or
                      states("sensor.plex_scylla") == "unavailable" %}
                        var(--rgb-red)
                      {% elif states("binary_sensor.plex_streaming")|bool ==
                      true %}
                        var(--rgb-blue)
                      {% else %}
                        white
                      {% endif %}
                    badge_icon: |-
                      {% if states(config.entity) == "on" %}
                        mdi:thumb-up
                      {% else %}
                        mdi:alert
                      {% endif %}
                    badge_color: |-
                      {% if states(config.entity) == "on" %}
                        var(--rgb-green)
                      {% elif states(config.entity) == "unavailable" %}
                        var(--rgb-yellow)
                      {% else %}
                        var(--rgb-red)
                      {% endif %}
                    fill_container: true
                    tap_action:
                      action: none
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: transparent;
                        }
                  - type: custom:mushroom-template-card
                    entity: sensor.data_usage_gb
                    primary: Comcast Data Usage
                    secondary: '{{ state_attr(config.entity,"pct_of_cap") }}%'
                    icon: mdi:database
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/monthly-data
                    picture: >-
                      {% set color = "ffffff" %}
                      http://192.168.1.200/tiles/pie.php?val={{
                      state_attr(config.entity,"pct_of_cap") }}&slice={{ color
                      }}
                    fill_container: false
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: transparent
                        }
            view_layout:
              grid-area: main
  - theme: Campfire - Dark
    path: openings
    title: Openings
    icon: ''
    visible:
      - user: 1adcbfbd5637444bacb8239bc794bb4a
      - user: 03dd7450aa7f4d0e8df8ed730df485b1
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:mushroom-cover-card
            entity: cover.garage_door
            show_buttons_control: true
          - type: custom:mushroom-chips-card
            chips:
              - type: entity
                entity: cover.garage_door
                content_info: last-changed
                tap_action:
                  action: none
                hold_action:
                  action: more-info
              - type: template
                double_tap_action:
                  action: none
                entity: cover.garage_door
                content: >-
                  {{
                  as_timestamp(states.cover.garage_door.last_changed)|timestamp_custom("%B
                  %-d, %-I:%M %p") }}
                tap_action:
                  action: none
                hold_action:
                  action: none
      - type: entities
        entities:
          - entity: binary_sensor.front_door
          - entity: binary_sensor.back_door
          - entity: binary_sensor.garage_door_sensor
            name: Garage Door
        title: Doors
        show_header_toggle: false
        state_color: true
  - theme: Campfire - Dark
    title: Homelab
    path: homelab
    icon: mdi:nas
    visible:
      - user: 1adcbfbd5637444bacb8239bc794bb4a
    type: custom:vertical-layout
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: ''
            subtitle: Plex Status
            title_tap_action:
              action: none
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                entity: binary_sensor.plex_online
                icon: mdi:plex
                content: '{{ iif(states(config.entity)=="on","Online","Offline") }}'
                icon_color: '{{ iif(states(config.entity)=="on","green","red") }}'
                tap_action:
                  action: none
              - type: conditional
                conditions:
                  - entity: sensor.plex_scylla
                    state_not: '0'
                chip:
                  type: template
                  entity: sensor.plex_scylla
                  content: >-
                    {{ states(config.entity) }} stream{{
                    iif(states(config.entity)|int > 1, "s","") }}
                  tap_action:
                    action: none
          - type: custom:uptime-card
            entity: binary_sensor.plex_online
            icon: mdi:server
            title_template: Uptime
            hours_to_show: 48
            icon_adaptive_color: true
            ok: 'on'
            ko: 'off'
            alias:
              ok: Up
              ko: Down
            show:
              icon: false
              status: false
            bar:
              amount: 36
              height: 10
            color:
              ok: green
              ko: red
              half: '#eab700'
            tap_action:
              action: none
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: ''
            subtitle: NAS Status
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                entity: binary_sensor.ds420j_online
                icon: mdi:nas
                content: '{{ iif(states(config.entity)=="on","Online","Offline") }}'
                icon_color: '{{ iif(states(config.entity)=="on","green","red") }}'
              - type: template
                entity: binary_sensor.ds420j_update_available
                icon: >-
                  {{
                  iif(states(config.entity)=="on","mdi:package-up","mdi:package-check")
                  }}
                content: >-
                  {{ iif(states(config.entity)=="on","Update Available","Up to
                  date") }}
                icon_color: '{{ iif(states(config.entity)=="on","orange","green") }}'
          - square: false
            columns: 3
            type: grid
            cards:
              - type: custom:mushroom-template-card
                primary: Last Boot
                entity: sensor.ds420j_last_boot
                secondary: >-
                  {{ as_timestamp(states(config.entity)) |
                  timestamp_custom("%Y-%m-%-d %-I:%M %p") }}
                icon_color: grey
                icon_type: none
              - type: custom:mushroom-entity-card
                name: CPU
                entity: sensor.ds420j_cpu_load_total
              - type: custom:mushroom-entity-card
                name: Temp
                entity: sensor.ds420j_temperature
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                entity: sensor.ds420j_drive_1_status
                icon: '{{ state_attr(config.entity,"icon") }}'
                content: Drive 1 {{ states(config.entity) }}
                icon_color: '{{ iif(states(config.entity)=="normal","green","red") }}'
              - type: template
                entity: sensor.ds420j_drive_2_status
                icon: '{{ state_attr(config.entity,"icon") }}'
                content: Drive 2 {{ states(config.entity) }}
                icon_color: '{{ iif(states(config.entity)=="normal","green","red") }}'
              - type: template
                entity: sensor.ds420j_drive_3_status
                icon: '{{ state_attr(config.entity,"icon") }}'
                content: Drive 3 {{ states(config.entity) }}
                icon_color: '{{ iif(states(config.entity)=="normal","green","red") }}'
          - type: custom:mini-graph-card
            entities:
              - entity: sensor.ds420j_drive_1_temperature
                name: Drive 1
              - entity: sensor.ds420j_drive_2_temperature
                name: Drive 2
              - entity: sensor.ds420j_drive_3_temperature
                name: Drive 3
            name: Drive Temps
            smoothing: false
            hours_to_show: 48
            points_per_hour: 2
            show:
              header: false
              name: true
              icon: false
              state: false
            tap_action:
              action: none
          - type: custom:uptime-card
            entity: binary_sensor.ds420j_online
            icon: mdi:server
            title_template: Uptime
            hours_to_show: 48
            icon_adaptive_color: true
            ok: 'on'
            ko: 'off'
            alias:
              ok: Up
              ko: Down
            show:
              icon: false
              status: false
            bar:
              amount: 36
              height: 10
            color:
              ok: green
              ko: red
              half: '#eab700'
            tap_action:
              action: more-info
          - type: custom:mushroom-template-card
            entity: sensor.ds420j_volume_1_total_size
            primary: Usage
            secondary: >-
              {{ states("sensor.ds420j_volume_1_used_space")|round(2) }} of {{
              states("sensor.ds420j_volume_1_total_size")|round(2) }} {{
              state_attr("sensor.ds420j_volume_1_total_size",
              "unit_of_measurement") }} ({{
              states("sensor.ds420j_volume_1_volume_used") }}{{
              state_attr("sensor.ds420j_volume_1_volume_used",
              "unit_of_measurement") }})
            icon_type: none
          - type: entities
            entities:
              - entity: input_boolean.nas_shutdown
          - type: conditional
            conditions:
              - entity: input_boolean.nas_shutdown
                state: 'on'
            card:
              type: entities
              entities:
                - entity: button.ds420j_shutdown
                  name: 'Confirm: Shut down NAS'
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: ''
            subtitle: Scylla Status
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.scylla_cpu_load
                    name: CPU Load
                    show:
                      header: false
                      name: true
                      icon: false
              - type: vertical-stack
                cards:
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.scylla_cpu_temp
                    name: CPU Temp
                    show:
                      header: false
                      name: true
                      icon: false
          - type: custom:uptime-card
            entity: binary_sensor.scylla_online
            icon: mdi:server
            title_template: Uptime
            hours_to_show: 48
            icon_adaptive_color: true
            ok: 'on'
            ko: 'off'
            alias:
              ok: Up
              ko: Down
            show:
              icon: false
              status: false
            bar:
              amount: 36
              height: 10
            color:
              ok: green
              ko: red
              half: '#eab700'
            tap_action:
              action: more-info
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: ''
            subtitle: UPS Status
          - type: custom:mini-graph-card
            entities:
              - sensor.ups_battery_charge
            name: Battery Charge
            show:
              header: false
              labels: true
              name: true
              icon: false
            lower_bound: ~0
            upper_bound: 100
          - type: custom:uptime-card
            entity: sensor.ups_status
            icon: mdi:server
            title_template: Uptime
            hours_to_show: 48
            icon_adaptive_color: true
            ok: Online
            ko: 'off'
            alias:
              ok: Up
              ko: Down
            show:
              icon: false
              status: false
            bar:
              amount: 36
              height: 10
            color:
              ok: green
              ko: red
              half: '#eab700'
            tap_action:
              action: more-info
          - type: custom:apexcharts-card
            graph_span: 48h
            update_interval: 30min
            apex_config:
              chart:
                height: 200px
              grid:
                show: false
              xaxis:
                axisBorder:
                  show: false
                axisTicks:
                  show: false
            header:
              show: true
              show_states: true
              title: Runtime (Minutes)
            series:
              - entity: sensor.ups_battery_runtime
                transform: return x / 60;
                group_by:
                  func: avg
                  duration: 30min
                opacity: 1
                stroke_width: 2
                name: Runtime
                type: line
                show:
                  legend_value: false
                  in_header: false
                fill_raw: last
                yaxis_id: Minutes
            yaxis:
              - id: Minutes
                show: true
                decimals: 0
                opposite: true
                min: ~30
                max: ~90
  - theme: Campfire - Dark
    path: lights
    title: Lights
    type: sidebar
    badges: []
    cards:
      - type: grid
        cards:
          - type: custom:mushroom-entity-card
            entity: light.bar_light
            icon_color: orange
            layout: horizontal
            secondary_info: none
            tap_action:
              action: toggle
          - type: custom:mushroom-entity-card
            entity: light.porch_light
            icon_color: orange
            layout: horizontal
            secondary_info: none
            name: Porch
            tap_action:
              action: toggle
          - type: custom:mushroom-entity-card
            entity: light.kitchen_light
            layout: horizontal
            secondary_info: none
            name: Kitchen
            tap_action:
              action: toggle
            icon_color: orange
          - type: custom:mushroom-entity-card
            entity: light.entryway_light
            secondary_info: none
            layout: horizontal
            icon_color: orange
            name: Entryway
            tap_action:
              action: toggle
        square: false
        columns: 3
      - square: false
        columns: 2
        type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:mushroom-light-card
                entity: light.den_lights
                name: Den
                layout: horizontal
                secondary_info: none
                show_brightness_control: true
                collapsible_controls: true
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: none
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: zone.home
                    icon_color: disabled
                    name: Low
                    content_info: name
                    icon: mdi:lightbulb-on-30
                    tap_action:
                      action: call-service
                      service: light.turn_on
                      data:
                        brightness_pct: 30
                        entity_id: light.den_lights
                  - type: entity
                    entity: zone.home
                    icon_color: disabled
                    name: Med
                    content_info: name
                    icon: mdi:lightbulb-on-60
                    tap_action:
                      action: call-service
                      service: light.turn_on
                      data:
                        brightness_pct: 60
                        entity_id: light.den_lights
                  - type: entity
                    entity: zone.home
                    icon_color: disabled
                    name: High
                    content_info: name
                    icon: mdi:lightbulb-on
                    tap_action:
                      action: call-service
                      service: light.turn_on
                      data:
                        brightness_pct: 100
                        entity_id: light.den_lights
          - type: vertical-stack
            cards:
              - type: custom:mushroom-light-card
                entity: light.dining_room_light
                name: Dining Room
                layout: horizontal
                secondary_info: none
                show_brightness_control: true
                collapsible_controls: true
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: none
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: zone.home
                    icon_color: disabled
                    name: Low
                    content_info: name
                    icon: mdi:lightbulb-on-30
                    tap_action:
                      action: call-service
                      service: light.turn_on
                      data:
                        brightness_pct: 30
                        entity_id: light.dining_room_light
                  - type: entity
                    entity: zone.home
                    icon_color: disabled
                    name: Med
                    content_info: name
                    icon: mdi:lightbulb-on-60
                    tap_action:
                      action: call-service
                      service: light.turn_on
                      data:
                        brightness_pct: 60
                        entity_id: light.dining_room_light
                  - type: entity
                    entity: zone.home
                    icon_color: disabled
                    name: High
                    content_info: name
                    icon: mdi:lightbulb-on
                    tap_action:
                      action: call-service
                      service: light.turn_on
                      data:
                        brightness_pct: 100
                        entity_id: light.dining_room_light
          - type: vertical-stack
            cards:
              - type: custom:mushroom-light-card
                entity: light.livingroom_light
                name: Living Room
                layout: horizontal
                secondary_info: none
                show_brightness_control: true
                collapsible_controls: true
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: none
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: zone.home
                    icon_color: disabled
                    name: Low
                    content_info: name
                    icon: mdi:lightbulb-on-30
                    tap_action:
                      action: call-service
                      service: light.turn_on
                      data:
                        brightness_pct: 30
                        entity_id: light.livingroom_light
                  - type: entity
                    entity: zone.home
                    icon_color: disabled
                    name: Med
                    content_info: name
                    icon: mdi:lightbulb-on-60
                    tap_action:
                      action: call-service
                      service: light.turn_on
                      data:
                        brightness_pct: 60
                        entity_id: light.livingroom_light
                  - type: entity
                    entity: zone.home
                    icon_color: disabled
                    name: High
                    content_info: name
                    icon: mdi:lightbulb-on
                    tap_action:
                      action: call-service
                      service: light.turn_on
                      data:
                        brightness_pct: 100
                        entity_id: light.livingroom_light
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: Options
          - type: custom:mushroom-entity-card
            entity: automation.living_room_nightlight
            icon: mdi:lightbulb-night-outline
            secondary_info: none
            tap_action:
              action: toggle
            hold_action:
              action: none
          - type: custom:mushroom-entity-card
            entity: automation.porch_light_on_timer
            name: Porch Light Timer
            fill_container: false
            icon: mdi:lightbulb-night-outline
            tap_action:
              action: toggle
            hold_action:
              action: none
            secondary_info: none
          - type: custom:mushroom-entity-card
            entity: switch.monoprice_1
            name: Christmas Tree
            icon_color: green
            hold_action:
              action: none
            double_tap_action:
              action: none
            tap_action:
              action: toggle
          - type: custom:mushroom-entity-card
            entity: automation.living_room_christmas_tree_timer
            name: Christmas Tree Timer
            icon: mdi:pine-tree
            secondary_info: none
            tap_action:
              action: toggle
            hold_action:
              action: none
            icon_color: light-green
        view_layout:
          position: sidebar
      - type: vertical-stack
        cards:
          - type: conditional
            conditions:
              - entity: automation.living_room_christmas_tree_timer
                state: 'on'
            card:
              type: vertical-stack
              cards:
                - type: horizontal-stack
                  cards:
                    - type: custom:mushroom-entity-card
                      entity: input_datetime.time_christmas_tree_on
                      name: Tree On
                      icon_color: light-green
                    - type: custom:mushroom-entity-card
                      entity: input_datetime.time_christmas_tree_off
                      name: Tree Off
                      icon_color: red
        view_layout:
          position: sidebar
      - type: vertical-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: automation.good_night_timer_set
            name: Good Night Timer
            icon: mdi:sleep
            tap_action:
              action: toggle
          - type: conditional
            conditions:
              - entity: automation.good_night_timer_set
                state: 'on'
            card:
              type: entity
              entity: timer.lights_out_timer
              state_color: true
              attribute: duration
              name: Lights out in…
  - theme: Campfire - Dark
    path: batteries
    icon: hass:battery-charging-70
    visible:
      - user: 1adcbfbd5637444bacb8239bc794bb4a
    type: custom:horizontal-layout
    badges: []
    cards:
      - type: custom:auto-entities
        card:
          type: entities
          title: Low Batteries
          show_header_toggle: false
        filter:
          include:
            - entity_id: sensor.*battery*
          exclude:
            - entity_id: '*iphone*'
            - entity_id: sensor.space_between*
            - entity_id: sensor.abhorred*
            - entity_id: sensor.neatfreak*
            - state: unavailable
            - state: '> 70'
        show_empty: false
      - type: custom:auto-entities
        card:
          type: entities
          title: Unavailable Sensors
          show_header_toggle: false
          state_color: true
        filter:
          include:
            - state: unavailable
          exclude:
            - domain: camera
            - domain: vacuum
            - domain: media_player
            - domain: device_tracker
            - entity_id: '*speedtest*'
            - entity_id: '*plex*'
            - entity_id: '*_identifybutton'
        show_empty: true
        sort:
          method: friendly_name
      - type: custom:auto-entities
        card:
          type: entities
          state_color: true
          show_header_toggle: false
          title: Windows
        filter:
          include:
            - domain: binary_sensor
              entity_id: '*window*'
            - domain: group
              entity_id: '*window*'
          exclude: []
        sort:
          method: friendly_name
  - theme: Campfire - Dark
    path: monthly-data
    title: Monthly Data
    subview: true
    type: panel
    badges: []
    cards:
      - type: custom:layout-card
        cards:
          - type: custom:layout-card
            layout_type: custom:grid-layout
            layout:
              grid-template-columns: repeat(3, 33%)
              mediaquery:
                '(max-width: 600px)':
                  grid-template-columns: 100%
              width: 100%
            cards:
              - type: custom:mushroom-template-card
                entity: sensor.data_usage_gb
                primary: 1200 GB
                secondary: Max per month
                icon: mdi:information
                tap_action:
                  action: none
                hold_action:
                  action: none
                icon_color: white
                name: 1200 GB
              - type: custom:mushroom-template-card
                entity: sensor.data_usage_gb
                primary: >-
                  {{states(config.entity)}} {{ state_attr(config.entity,
                  'unit_of_measurement') }}
                secondary: Used this month
                icon: mdi:cloud
                icon_color: blue
                tap_action:
                  action: none
                hold_action:
                  action: none
              - type: custom:mushroom-template-card
                entity: sensor.data_usage_gb
                primary: '{{state_attr(config.entity, ''pct_of_cap'')|round(1)}}%'
                secondary: of monthly Comcast data cap
                icon: mdi:percent
                icon_color: blue
                tap_action:
                  action: none
                hold_action:
                  action: none
              - type: custom:mushroom-entity-card
                entity: sensor.month_gone
                icon_color: disabled
                secondary_info: name
                primary_info: state
                name: Into this month
                icon: mdi:calendar-arrow-right
              - type: custom:mushroom-entity-card
                entity: input_number.data_usage_refresh
                name: Set Refresh Interval
                icon_color: disabled
              - type: custom:mushroom-entity-card
                entity: sensor.data_usage_gb
                name: Last Updated
                icon_color: disabled
                secondary_info: last-updated
          - type: custom:layout-card
            layout_type: custom:grid-layout
            layout:
              grid-template-columns: 50% 50%
              mediaquery:
                '(max-width: 600px)':
                  grid-template-columns: 100%
            cards:
              - type: custom:apexcharts-card
                header:
                  show: true
                  title: Hourly Data Usage
                yaxis:
                  - id: delta
                    decimals: 1
                    opposite: true
                    min: 0
                  - id: day
                    show: false
                    min: 0
                    max: 1
                    decimals: 0
                    apex_config:
                      tickAmount: 1
                      labels:
                        formatter: |
                          EVAL:function(value) {
                            if (value == 1) return "ON";
                            return "OFF";
                          }
                series:
                  - entity: sensor.data_usage_per_hour
                    name: Per Hour
                    extend_to: now
                    type: column
                    color: orange
                    yaxis_id: delta
                    show:
                      legend_value: false
                    group_by:
                      duration: 1h
                  - entity: input_boolean.day_cycle
                    transform: 'return x == "on" ? 1 : 0;'
                    color: '#ffffff'
                    group_by:
                      duration: 1d
                    opacity: 0.1
                    stroke_width: 0
                    name: Day
                    type: area
                    show:
                      legend_value: false
                      in_header: false
                    fill_raw: last
                    curve: stepline
                    yaxis_id: day
                graph_span: 2d
                apex_config:
                  chart:
                    height: 250px
              - type: custom:apexcharts-card
                header:
                  show: true
                  title: vs Time of Month
                yaxis:
                  - id: delta
                    decimals: 1
                    opposite: true
                series:
                  - entity: sensor.data_usage_gb
                    attribute: pct_of_cap
                    unit: '%'
                    name: '% of Cap'
                    extend_to: now
                    type: line
                    color: orange
                    yaxis_id: delta
                    group_by:
                      duration: 6hr
                  - entity: sensor.month_gone
                    name: '% of Month'
                    extend_to: now
                    curve: smooth
                    type: line
                    color: white
                    yaxis_id: delta
                    group_by:
                      duration: 6hr
                graph_span: 5d
                apex_config:
                  chart:
                    height: 250px
            view_layout:
              grid-column: span 2
        layout_type: custom:grid-layout
        layout:
          layout_type: custom:grid-layout
          width: 100%
  - theme: Campfire - Dark
    visible:
      - user: 1adcbfbd5637444bacb8239bc794bb4a
    title: Lights (Admin)
    path: lights-admin
    type: panel
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:auto-entities
            card:
              type: grid
              columns: 2
              square: false
            card_param: cards
            filter:
              include:
                - domain: light
                  options:
                    type: custom:mushroom-light-card
              exclude:
                - state: unavailable
            show_empty: true
            sort:
              method: friendly_name
  - theme: Campfire - Dark
    title: Climate
    path: climate
    icon: mdi:thermostat
    visible:
      - user: 1adcbfbd5637444bacb8239bc794bb4a
      - user: 03dd7450aa7f4d0e8df8ed730df485b1
    badges: []
    cards:
      - type: custom:thermostat-card
        entity: climate.ecobee3
        no_card: false
        highlight_tap: true
        title: ecobee3
        step: 1
      - type: custom:mushroom-climate-card
        entity: climate.ecobee3
        show_temperature_control: true
        hvac_modes:
          - heat
        name: Thermostat
  - title: Home (Phone View)
    path: home-phone
    theme: Campfire - Dark
    type: panel
    visible:
      - user: 1adcbfbd5637444bacb8239bc794bb4a
    badges: []
    cards:
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 100%
          grid-template-rows: auto
          grid-gap: 0
        cards:
          - type: vertical-stack
            cards:
              - type: custom:mushroom-title-card
                title: Lights
              - type: custom:mushroom-light-card
                entity: light.kitchen_light
              - type: custom:mushroom-light-card
                entity: light.master_bedroom_light
                name: Bedroom Lamp
              - type: custom:mushroom-light-card
                entity: light.bar_light
          - type: vertical-stack
            cards:
              - type: custom:mushroom-template-card
                primary: '{{states(config.entity)}}'
                secondary: '{{ state_attr(config.entity, "date") }}'
                icon: '{{ state_attr(config.entity, "icon") }}'
                entity: sensor.trash_pickup
